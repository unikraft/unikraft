$(eval $(call addlib_s,libukrandom,$(CONFIG_LIBUKRANDOM)))
$(eval $(call addlib_paramprefix,libukrandom,random))

CINCLUDES-$(CONFIG_LIBUKRANDOM)	+= -I$(LIBUKRANDOM_BASE)/include
CXXINCLUDES-$(CONFIG_LIBUKRANDOM) += -I$(LIBUKRANDOM_BASE)/include

LIBUKRANDOM_SRCS-$(CONFIG_LIBUKRANDOM_DEVFS) += $(LIBUKRANDOM_BASE)/dev.c
LIBUKRANDOM_SRCS-$(CONFIG_LIBUKRANDOM_GETRANDOM) += $(LIBUKRANDOM_BASE)/getrandom.c
LIBUKRANDOM_SRCS-y += $(LIBUKRANDOM_BASE)/chacha.c
LIBUKRANDOM_SRCS-y += $(LIBUKRANDOM_BASE)/random.c

ifneq ($(filter y,$(CONFIG_LIBUKRANDOM_TEST) $(CONFIG_LIBUKTEST_ALL)),)
LIBUKRANDOM_SRCS-y += $(LIBUKRANDOM_BASE)/tests/test_chacha.c
endif

LIBUKRANDOM_CINCLUDES-y += -I$(LIBUKRANDOM_BASE)

# TODO Remove as soon as plat dependencies go away
LIBUKRANDOM_CINCLUDES-y += -I$(UK_PLAT_COMMON_BASE)/include

UK_PROVIDED_SYSCALLS-$(CONFIG_LIBUKRANDOM_GETRANDOM) += getrandom-3
